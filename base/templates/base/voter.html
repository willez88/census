<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Residentes</title>
    <style>
      @page {
        size: A4 landscape;
        /* Cambio a horizontal para más espacio */
        margin: 1cm;
      }
    
      body {
        font-family: "Times New Roman", Times, serif;
        font-size: 10pt;
        /* Reducir tamaño de fuente */
        line-height: 1.3;
      }
    
      .tabla-container {
        width: 100%;
        overflow-x: auto;
      }
    
      table {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed;
        /* Forzar distribución uniforme */
        word-wrap: break-word;
        page-break-inside: auto;
      }
    
      th,
      td {
        border: 1px solid #000;
        padding: 5px;
        text-align: left;
        vertical-align: top;
      }
    
      th {
        background-color: #f2f2f2;
        font-weight: bold;
      }
    
      /* Anchuras específicas para columnas */
      .col-nombre {
        width: 15%;
      }
    
      .col-cedula {
        width: 8%;
      }
    
      .col-fecha {
        width: 12%;
      }
    
      .col-edad {
        width: 5%;
      }
    
      .col-telefono {
        width: 10%;
      }
    
      .col-voto {
        width: 8%;
      }
    
      .col-direccion {
        width: 15%;
      }
    
      .col-apto {
        width: 7%;
      }
    
      .col-firma {
        width: 10%;
      }
    
      /* Evitar saltos de página en filas */
      tr {
        page-break-inside: avoid;
        page-break-after: auto;
      }
    </style>
  </head>

  <body>
    <main class="tabla-container">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Nombres y Apellidos</th>
            <th>Cédula</th>
            
            <!-- datos temporales -->
            <th>Fecha de Nacimiento</th>
            <th>Edad</th>
            <th>Teléfono</th>
            <th>Tipo de Voto</th>
            <!-- datos temporales -->
            
            <th>Bloque / Edificio</th>
            <th>Apto</th>
            <th>Firma</th>
            <th>Huella</th>
          </tr>
        </thead>
        <tbody>
          {% for person in people %}
            <tr>
              <td>{{ person.first_name|title }} {{ person.last_name|title }}</td>
              <td>{{ person.id_number }}</td>

              <!-- datos temporales -->
              <td>{{ person.birthdate }}</td>
              <td>{{ person.age }}</td>
              <td>{{ person.phone }}</td>
              <td>{{ person.vote_type }}</td>
              <!-- datos temporales -->

              <td>{{ person.family_group.department.building.bridge.block.name }} / {{ person.family_group.department.building.name }}</td>
              <td>{{ person.family_group.department.name }}</td>
              <td></td>
              <td></td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </main>
  </body>
</html>
